syntax = "proto3";

package isekai_journey.journey_log;

option php_namespace = "Generated\\IsekaiJourney\\JourneyLog";
option php_metadata_namespace = "Generated\\GPBMetadata";

service JourneyLogService {
  rpc ListJourneyLogs(ListJourneyLogsRequest) returns (ListJourneyLogsResponse);

  rpc CreateJourneyLog(CreateJourneyLogRequest) returns (CreateJourneyLogResponse);
}

message Date {
  int32 year = 1;
  int32 month = 2;
  int32 day = 3;
}

message JourneyLog {
  string journey_log_id = 1;
  string summary = 2;
  string story = 3;
  Date from_on = 4;
  Date to_on = 5;
  int32 order_no = 6;
}

message ListJourneyLogsRequest {
}

message ListJourneyLogsResponse {
  repeated JourneyLog journey_logs = 1;
}

message CreateJourneyLogRequest {
  string summary = 1;
  string story = 2;
  Date from_on = 3;
  Date to_on = 4;
  int32 order_no = 5;
}

message CreateJourneyLogResponse {
  Status status = 1;
  // status が FAILED のときのみ存在する
  optional string message = 2;
  // status が SUCCESS のときのみ存在する
  optional JourneyLog journey_log = 3;
}

enum Status {
  SUCCESS = 0;
  FAILED = 1;
}
